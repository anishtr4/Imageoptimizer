 // created bye anish
(function(e){e.fn.imageoptim=function(t){var n=e.extend({fillcrop:"fill"},t);return this.each(function(){image=e(this);imgHeight=image[0].naturalHeight;imgWidth=image[0].naturalWidth;parentheight=image.parent().height();parentwidth=image.parent().width();scalefactWidth=parentwidth/imgWidth;scalefactHeight=parentheight/imgHeight;if(n.fillcrop=="fill"){if(scalefactWidth<scalefactHeight){scaleimageWidth=imgWidth*scalefactWidth;scaleimageHeight=imgHeight*scalefactWidth;centre=(parentheight-scaleimageHeight)/2;image.css({width:scaleimageWidth,height:scaleimageHeight,marginTop:centre,position:"absolute"})}else if(scalefactWidth>scalefactHeight){scaleimageWidth=imgWidth*scalefactHeight;scaleimageHeight=imgHeight*scalefactHeight;centre=(parentwidth-scaleimageWidth)/2;image.css({width:scaleimageWidth,height:scaleimageHeight,marginLeft:centre,position:"absolute"})}}else if(n.fillcrop=="crop"){e(this).parent().css({overflow:"hidden"});if(scalefactWidth>scalefactHeight){scaleimageWidth=imgWidth*scalefactWidth;scaleimageHeight=imgHeight*scalefactWidth;centre=(parentheight-scaleimageHeight)/2;image.css({width:scaleimageWidth,height:scaleimageHeight,marginTop:centre})}else if(scalefactWidth<scalefactHeight){var t=imgWidth*scalefactHeight;var r=imgHeight*scalefactHeight;centre=(parentwidth-t)/2;image.css({width:t,height:r,marginLeft:centre})}}})}})(jQuery)